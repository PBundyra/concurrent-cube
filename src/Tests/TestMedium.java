package Tests;

import concurrentcube.Cube;

public class TestMedium {

    static void prettyPrint(String s) {
        String space = " ";
        String actual = space.repeat(4);
        int index = 0;
        for (int row = 0; row < 3; row++) {
            for (int column = 0; column < 3; column++) {
                actual += s.charAt(index);
                index++;
            }
            System.out.println(actual);
            actual = space.repeat(4);
        }

        char[][] arr = new char[3][16];
        actual = "";

        for (int row = 0; row < 3; row++) {
            for (int column = 0; column < 3; column++) {
                arr[row][column] = s.charAt(index);
                index++;
            }
            arr[row][3] = ' ';

        }
        for (int row = 0; row < 3; row++) {
            for (int column = 0; column < 3; column++) {
                arr[row][column + 4] = s.charAt(index);
                index++;
            }
            arr[row][7] = ' ';
        }
        for (int row = 0; row < 3; row++) {
            for (int column = 0; column < 3; column++) {
                arr[row][column + 8] = s.charAt(index);
                index++;
            }
            arr[row][11] = ' ';
        }
        for (int row = 0; row < 3; row++) {
            for (int column = 0; column < 3; column++) {
                arr[row][column + 12] = s.charAt(index);
                index++;
            }
            arr[row][15] = ' ';
        }
        for (int row = 0; row < 3; row++) {
            for (int column = 0; column < 16; column++) {
                actual += arr[row][column];
            }
            System.out.println(actual);
            actual = "";
        }
        actual = space.repeat(4);
        for (int row = 0; row < 3; row++) {
            for (int column = 0; column < 3; column++) {
                actual += s.charAt(index);
                index++;
            }
            System.out.println(actual);
            actual = space.repeat(4);
        }

        System.out.println();
    }

    static public String[] makeTests() {
        String[] test = new String[180];

        test[0] =
                "000000000222111111333222222444333333111444444555555555";
        test[1] =
                "400400100112112112033022022444333333115445445355255255";
        test[2] =
                "400400222113115115000223223144033033115445445334255255";
        test[3] =
                "400403223113115115004225225001334334215045045334254251";
        test[4] =
                "144403223013015415004225225001335332002441555334254111";
        test[5] =
                "144403223013015555004225415001335225002441332123153144";
        test[6] =
                "144403223013225555004335415001441225002015332123153144";
        test[7] =
                "134413203013225555044305425001441225042055322103133114";
        test[8] =
                "134521203013235535044305425041411235042055322103240114";
        test[9] =
                "144501223013235535004345415041411235002025332123250144";
        test[10] =
                "144413223013205555004345415001451225002025332123133144";
        test[11] =
                "144413223013025555004205415001345225002451332123133144";
        test[12] =
                "144413223013025415004205225001345332002451555334234111";
        test[13] =
                "145414220013025415004203223152043033102451455334235115";
        test[14] =
                "400414220113125515004203223151044035215055144334235332";
        test[15] =
                "000214220355121115304203323151044035212054144434535532";
        test[16] =
                "000214100350122112433002323451344435212054144515535532";
        test[17] =
                "040010021212122112350002323433344435451054144515535532";
        test[18] =
                "000214100350122112433002323451344435212054144515535532";
        test[19] =
                "400414200113125220033202123451344435215055145415035332";
        test[20] =
                "400414053114121225120203323251044035215055145434035332";
        test[21] =
                "400413053114121225124205322002345541315455045431030332";
        test[22] =
                "251413053014021425124205322002343543043451555431030112";
        test[23] =
                "251413053014021555124205425002343322043451543104133201";
        test[24] =
                "251413053014205555124343425002451322043021543104133201";
        test[25] =
                "241423043014205555154313455002451322003031503124143221";
        test[26] =
                "241501043014245535154313455042421332003031503124250221";
        test[27] =
                "251511053014245535124353425042421332043001543104230201";
        test[28] =
                "251423053014215555124353425002431322043001543104143201";
        test[29] =
                "251423053014001555124215425002353322043431543104143201";
        test[30] =
                "251423053014001425124215322002353543043431555431040112";
        test[31] =
                "255424050014001425121213323233054035243031155434045112";
        test[32] =
                "400424050114101225121213323232055035315435201434045543";
        test[33] =
                "100224350415102112421013523232055035310434204134545543";
        test[34] =
                "100224200410105113133212405432355135310434204522545543";
        test[35] =
                "040020122310105113410212405133355135432434204522545543";
        test[36] =
                "100224200410105113133212405432355135310434204522545543";
        test[37] =
                "400424000114101350133212205432355135315435205122245443";
        test[38] =
                "400424014111102352221013523032055035315435205134245443";
        test[39] =
                "401423013111102352224015523000353552415435005132244443";
        test[40] =
                "032423013111002452224015523003354554044031555132244113";
        test[41] =
                "032423013111002555224015452003354523044031554121143342";
        test[42] =
                "032423013111015555224354452003031523044002554121143342";
        test[43] =
                "052403043111015555234324412003031523044042524121153352";
        test[44] =
                "052511043111055535234324412043001533044042524121230352";
        test[45] =
                "032521013111055535224334452043001533044012554121240342";
        test[46] =
                "032403013111025555224334452003041523044012554121153342";
        test[47] =
                "032403013111012555224025452003334523044041554121153342";
        test[48] =
                "032403013111012452224025523003334554044041555132254113";
        test[49] =
                "035400010111012452222023523344035035344441255134255113";
        test[50] =
                "401400010111112352222023523340033035415445342134255554";
        test[51] =
                "201000510122115113122223523340033035410444344234555554";
        test[52] =
                "201000300120111115233222125440333235410444344253555554";
        test[53] =
                "100000203410111115120222125233333235440444344253555554";
        test[54] =
                "201000300120111115233222125440333235410444344253555554";
        test[55] =
                "401400000111112510233022325440333235415445342253255154";
        test[56] =
                "401400021112115513302223523040033035415445342234255154";
        test[57] =
                "402403023112115513304225524000334530115045142233254154";
        test[58] =
                "040403023212015413304225524004335531101441255233254115";
        test[59] =
                "040403023212015255304225413004335524101441531122153543";
        test[60] =
                "040403023212225255304335413004441524101015531122153543";
        test[61] =
                "030413003212225255344305423004441524141055521102133513";
        test[62] =
                "030521003212235235344305423044411534141055521102240513";
        test[63] =
                "040501023212235235304345413044411534101025531122250543";
        test[64] =
                "040413023212205255304345413004451524101025531122133543";
        test[65] =
                "040413023212025255304205413004345524101451531122133543";
        test[66] =
                "040413023212025413304205524004345531101451255233234115";
        test[67] =
                "042414021212025413300203523451043035501451355234235114";
        test[68] =
                "402414021112125413300203523450044032115055543234235531";
        test[69] =
                "302214521253121114200203523450044032110054544334535531";
        test[70] =
                "302214400251122115033002225450344332110054544314535531";
        test[71] =
                "240010324110122115251002225033344332450054544314535531";
        test[72] =
                "302214400251122115033002225450344332110054544314535531";
        test[73] =
                "402414000112125521333202425450344332115055543014035231";
        test[74] =
                "402414152110121524423203523050044032115055543334035231";
        test[75] =
                "403413153110121524424205521000345240215455243335030231";
        test[76] =
                "050413153310021424424205521001343242242451355335030115";
        test[77] =
                "050413153310021355424205424001343521242451242103133505";
        test[78] =
                "050413153310205355424343424001451521242021242103133505";
        test[79] =
                "040423143310205355454313454001451521202031202123143525";
        test[80] =
                "040501143310245335454313454041421531202031202123250525";
        test[81] =
                "050511153310245335424353424041421531242001242103230505";
        test[82] =
                "050423153310215355424353424001431521242001242103143505";
        test[83] =
                "050423153310001355424215424001353521242431242103143505";
        test[84] =
                "050423153310001424424215521001353242242431355335040115";
        test[85] =
                "053424152310001424420213523132054032542031555334045111";
        test[86] =
                "403424152110101124420213523130055033215435505334045242";
        test[87] =
                "403224552014102111320013223130055033211434504534545542";
        test[88] =
                "403224100012105115033212302430355533211434504421545542";
        test[89] =
                "340020421211105115012212302033355533430434504421545542";
        test[90] =
                "403224100012105115033212302430355533211434504421545542";
        test[91] =
                "403424100110101552433212102430355533215435504021245342";
        test[92] =
                "403424210110102551124013223130055033215435504534245342";
        test[93] =
                "404423213110102551124015222001353350015435304535244342";
        test[94] =
                "130423213410002451124015222002354353340031455535244115";
        test[95] =
                "130423213410002455124015451002354222340031353125143545";
        test[96] =
                "130423213410015455124354451002031222340002353125143545";
        test[97] =
                "150403243410015455134324411002031222340042323125153555";
        test[98] =
                "150511243410055435134324411042001232340042323125230555";
        test[99] =
                "130521213410055435124334451042001232340012353125240545";
        test[100] =
                "130403213410025455124334451002041222340012353125153545";
        test[101] =
                "130403213410012455124025451002334222340041353125153545";
        test[102] =
                "130403213410012451124025222002334353340041455535254115";
        test[103] =
                "134400213410012451120023223243035033540441555534255112";
        test[104] =
                "404400213110112251120023223241033034015445545534255353";
        test[105] =
                "104000213021115112520223323241033034012444544534555553";
        test[106] =
                "104000200023111112033222523441333534012444544152555553";
        test[107] =
                "400000102012111112023222523033333534441444544152555553";
        test[108] =
                "104000200023111112033222523441333534012444544152555553";
        test[109] =
                "404400200110112213133022223441333534015445541052255553";
        test[110] =
                "404400320110115212201223323241033034015445541534255553";
        test[111] =
                "401403323110115212204225323002334431015045441535254550";
        test[112] =
                "241403323110015412204225323000335435400441155535254112";
        test[113] =
                "241403323110015155204225412000335323400441435125153245";
        test[114] =
                "241403323110225155204335412000441323400015435125153245";
        test[115] =
                "231413303110225155244305422000441323440055425105133215";
        test[116] =
                "231521303110235135244305422040411333440055425105240215";
        test[117] =
                "241501323110235135204345412040411333400025435125250245";
        test[118] =
                "241413323110205155204345412000451323400025435125133245";
        test[119] =
                "241413323110025155204205412000345323400451435125133245";
        test[120] =
                "241413323110025412204205323000345435400451155535234112";
        test[121] =
                "241414324110025412201203323055043034200451555534235113";
        test[122] =
                "401414324110125312201203323052044031015055245534235435";
        test[123] =
                "201214324052121113501203423052044031013054244534535535";
        test[124] =
                "201214000054122113133002524452344531013054244213535535";
        test[125] =
                "140010220013122113054002524133344531452054244213535535";
        test[126] =
                "201214000054122113133002524452344531013054244213535535";
        test[127] =
                "401414300110125324233202024452344531015055242113035535";
        test[128] =
                "401414450111121323022203423352044031015055242534035535";
        test[129] =
                "402413453111121323024205425003345142015455142532030530";
        test[130] =
                "352413453211021423024205425000343145140451255532030113";
        test[131] =
                "352413453211021255024205423000343425140451145105133302";
        test[132] =
                "352413453211205255024343423000451425140021145105133302";
        test[133] =
                "342423443211205255054313453000451425100031105125143322";
        test[134] =
                "342501443211245235054313453040421435100031105125250322";
        test[135] =
                "352511453211245235024353423040421435140001145105230302";
        test[136] =
                "352423453211215255024353423000431425140001145105143302";
        test[137] =
                "352423453211001255024215423000353425140431145105143302";
        test[138] =
                "352423453211001423024215425000353145140431255532040113";
        test[139] =
                "352424451211001423022213423035054031340031255534045115";
        test[140] =
                "402424451111101523022213423033055032015435302534045145";
        test[141] =
                "002224451113102115522013123033055032014434304234545545";
        test[142] =
                "002224000111105114233212501433355232014434304325545545";
        test[143] =
                "240020020014105114111212501233355232433434304325545545";
        test[144] =
                "002224000111105114233212501433355232014434304325545545";
        test[145] =
                "402424400111101451033212001433355232015435303225245545";
        test[146] =
                "402424111112102455020013123433055032015435303234245545";
        test[147] =
                "400423113112102455024015125004353253115435203233244540";
        test[148] =
                "433423113012002455024015125000354255241031355233244114";
        test[149] =
                "433423113012002355024015455000354125241031255122143443";
        test[150] =
                "433423113012015355024354455000031125241002255122143443";
        test[151] =
                "453403143012015355034324415000031125241042225122153453";
        test[152] =
                "453511143012055335034324415040001135241042225122230453";
        test[153] =
                "433521113012055335024334455040001135241012255122240443";
        test[154] =
                "433403113012025355024334455000041125241012255122153443";
        test[155] =
                "433403113012012355024025455000334125241041255122153443";
        test[156] =
                "433403113012012455024025125000334255241041355233254114";
        test[157] =
                "433400112012012455023023123045035032441441355234255115";
        test[158] =
                "400400112112112555023023123044033033115445443234255255";
        test[159] =
                "000000112225115115223223223044033033111444444334555555";
        test[160] =
                "000000000222111111333222222444333333111444444555555555";
        test[161] =
                "000000000111111111222222222333333333444444444555555555";
        test[162] =
                "000000000222111111333222222444333333111444444555555555";
        test[163] =
                "400400100112112112033022022444333333115445445355255255";
        test[164] =
                "400400222113115115000223223144033033115445445334255255";
        test[165] =
                "400403223113115115004225225001334334215045045334254251";
        test[166] =
                "144403223013015415004225225001335332002441555334254111";
        test[167] =
                "144403223013015555004225415001335225002441332123153144";
        test[168] =
                "144403223013225555004335415001441225002015332123153144";
        test[169] =
                "134413203013225555044305425001441225042055322103133114";
        test[170] =
                "134521203013235535044305425041411235042055322103240114";
        test[171] =
                "144501223013235535004345415041411235002025332123250144";
        test[172] =
                "144413223013205555004345415001451225002025332123133144";
        test[173] =
                "144413223013025555004205415001345225002451332123133144";
        test[174] =
                "144413223013025415004205225001345332002451555334234111";
        test[175] =
                "145414220013025415004203223152043033102451455334235115";
        test[176] =
                "400414220113125515004203223151044035215055144334235332";
        test[177] =
                "000214220355121115304203323151044035212054144434535532";
        test[178] =
                "000214100350122112433002323451344435212054144515535532";
        test[179] =
                "040010021212122112350002323433344435451054144515535532";

        return test;
    }

    static public void compareResult(Cube cube, String expected, int side,
                                     int layer) throws InterruptedException {
        System.out.println("Rotate: side: " + side + " layer: " + layer);
        if (!cube.show().equals(expected)) {
            System.out.println("Błąd");
            System.out.println("Oczekiwany: ");
            System.out.println(expected);
            System.out.println("Obliczony: ");
            System.out.println(cube.show());
            System.out.println("Oczekiwany: ");
            prettyPrint(expected);
            System.out.println("Obliczony: ");
            prettyPrint(cube.show());
            System.exit(420);
        } else {
            System.out.println("OK");
        }
    }

    public static void main(String[] args) {

        var counter = new Object() {
            int value = 0;
        };

        Cube cube = new Cube(3,
                (x, y) -> {
                    ++counter.value;
                },
                (x, y) -> {
                    ++counter.value;
                },
                () -> {
                    ++counter.value;
                },
                () -> {
                    ++counter.value;
                }
        );


        String[] test = makeTests();
        int num = 0;
        char mark = '"';

        try {
            for (int i = 0; i < 10; i++) {
                for (int layer = 0; layer < 3; layer++) {
                    for (int side = 0; side < 6; side++) {
                        cube.rotate(side, layer);
//                        System.out.println("SIDE " + side + " LAYER " + layer);
//                        prettyPrint(test[num]);
//                        prettyPrint(cube.show());
                        compareResult(cube, test[num], side, layer);

                        num++;
                    }
                }
            }
            System.out.println("Przeszło wszystkie <3");


        } catch (InterruptedException e) {
            System.out.println("aaaAAAAAAAAA");
        }
    }
}
